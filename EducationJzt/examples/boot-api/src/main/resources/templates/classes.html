<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
    <link rel="stylesheet" href="../static/pages/css/ace.min.css" id="main-ace-style" />
    <link rel="stylesheet" href="../static/pages/css/index.css">
    <link rel="stylesheet" href="../static/pages/css/management.css">
    <link rel="stylesheet" href="../static/pages/css/student.css">
    <link rel="stylesheet" href="../static/pages/css/madal.css">
    <link rel="stylesheet" href="../static/pages/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/pages/css/font-awesome.min.css" />

    <script src="../static/pages/js/jquery.min.js"></script>
    <script src="../static/pages/js/bootstrap.min.js"> </script>
    <script src="../static/pages/js/ace.min.js"> </script>
    <script src="../static/pages/js/ace-elements.min.js"></script>
    <script src="../static/pages/laydate/laydate.js"></script>

    

</head>
<body>
<div id="navbar" class="eduNav">
    <div class="navbar-header pull-left">
        <a href="index.html" class="navbar-brand">
            <small>
                <img src="../static/pages/img/logo.png" alt="">
            </small>
        </a>
    </div>
    <div class="pull-right eduName">
        <span>万某 [管理员]</span> 
        <span>机构中心</span>
        <span>退出</span>   
    </div>
</div>  
<div class="main-container" id="main-container">
    <div id="sidebar" class="sidebar responsive">
        <ul class="nav nav-list" style="top: 0px;">
            <li class="">
                <a href="/forward/index"><span class="menu-text"> 工作台 </span></a>
                <b class="arrow"></b>
            </li>
            <li class="">
                <a href="/forward/management"><span class="menu-text"> 办理中心 </span></a>
                <b class="arrow"></b>
            </li>
            <li class="active open">
                <a href="#" class="dropdown-toggle">
                    <span class="menu-text">教务中心</span>
                    <b class="arrow fa fa-angle-down"></b>
                </a>
                <b class="arrow"></b>
                <ul class="submenu">
                    <li class="">
                        <a href="/forward/student"><i class="menu-icon fa fa-caret-right"></i>学员</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="active">
                        <a href="/student/getXbClassroomList"><i class="menu-icon fa fa-caret-right"></i>班级</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="/forward/oneToOne">
                            <i class="menu-icon fa fa-caret-right"></i>一对一</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="/forward/courseArray"><i class="menu-icon fa fa-caret-right"></i>排课</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="/forward/lessonTable"><i class="menu-icon fa fa-caret-right"></i>课程表</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="/forward/attendClass"><i class="menu-icon fa fa-caret-right"></i>记上课</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="/forward/course"><i class="menu-icon fa fa-caret-right"></i>课程</a>
                        <b class="arrow"></b>
                    </li>
                </ul>
            </li>
            <li class="">
                <a href="#" class="dropdown-toggle">
                    <span class="menu-text"> 内部管理 </span>
                    <b class="arrow fa fa-angle-down"></b>
                </a>
                <b class="arrow"></b>
                <ul class="submenu">
                    <li class="">
                        <a href="/accounts/getOrgansList"><i class="menu-icon fa fa-caret-right"></i>组织架构</a>
                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="/accounts/getEmployeeList"><i class="menu-icon fa fa-caret-right"></i>员工信息</a>
                        <b class="arrow"></b>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="main-content">
        <div class="breadcrumbs" id="breadcrumbs">
            <img src="../static/pages/img/line1.png">
            <span>班级列表</span>
            <img src="../static/pages/img/line.png">
        </div> 
        <div class="tabbable">
            <ul class="nav nav-tabs" id="myTab">
                <li class="active">
                    <a data-toggle="tab" href="#class" class="class">班级列表</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#teacher" class="teacher">教室列表</a>
                </li>
            </ul>
            <div id="class" class="tab-content student classes">
                <!-- 学员列表 -->
                <div  class="tab-pane fade in active"> 
                    <div class="screen">
                        <a href="/student/getXbClass"><button class="stdEnroll">新建班级</button></a>
                    </div>
                    <div class="orderCon">
                        <div class="export">
                            <button type="button" class="btn btn-primary">批量删除</button>
                            <button type="button" class="btn btn-primary">导出班级</button>
                            <div class="form-group">
                                <input type="checkbox">
                                显示已结班班级
                            </div>
                        </div> 
                        <div class="result">
                            当前结果：共计<span th:text="${xbClassPage.getTotalPages()}"></span>个班级，<span>111</span>名在读学员，报班<span>111</span>人次(不包括转出、停课、退费、结课的学员)
                        </div>
                        <div class="orderTable">
                            <table class="table table-hover">
                                <tr>
                                    <th>
                                        <input type="checkbox" id="sel_1" onchange="selectAll()">
                                    </th>
                                    <th>班级名称</th>
                                    <th>人数
                                        <div class="sort">
                                            <span class="glyphicon glyphicon-triangle-top"></span>
                                            <span class="glyphicon glyphicon-triangle-bottom"></span>
                                        </div>
                                    </th>
                                    <th>教师</th>
                                    <th>所属课程</th>
                                    <th>开班校区</th>
                                    <th>开班日期
                                        <div class="sort">
                                            <span class="glyphicon glyphicon-triangle-top"></span>
                                            <span class="glyphicon glyphicon-triangle-bottom"></span>
                                        </div>
                                    </th>
                                    <th>上课时间</th>
                                    <th>招生状态</th>
                                    <th>操作</th>
                                    <th>
                                        <span href="#modal-table"  data-toggle="modal" class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span>
                                    </th>
                                </tr>
                                <tr id="chooses" th:each="xbclass:${xbClassPage.content}">
                                    <td><input type="checkbox"></td>
                                    <td th:text="${xbclass.className}"><img src="../static/pages/img/ban.png"></td>
                                    <td class="prog" th:text="${xbclass.establishNum}">
                                        <div class="progress progress-small progress-striped active">
                                            <!--<div class="progress-bar progress-bar-warning" style="width: 0%;"></div>
                                                <span th:text="${xbclass.establishNum}"></span>-->
                                        </div>
                                    </td>
                                    <td th:text="${xbclass.teacher.employeeName}"></td>
                                    <td>识字1</td>
                                    <td th:text="${xbclass.sysOrgans.organName}"></td>
                                    <td th:text="${#dates.format(xbclass.classBeginDate, 'yyyy-MM-dd')}"></td>
                                    <td class="classTime">
                                        <Span>每周周日15:30-16:30</Span>
                                        <Span>每周周日15:30-16:30</Span>
                                    </td>
                                    <td th:if="${xbclass.recruitState=='0'}">
                                        <Span class="recruit">开放招生</Span>
                                    </td>
                                    <td th:if="${xbclass.recruitState=='1'}">
                                        <Span class="recruit">停止招生</Span>
                                    </td>
                                    <td class="classDel">
                                        <div class="btn-group open">
                                            <p data-toggle="dropdown" class="down" aria-expanded="true">
                                                操作
                                                <span class="ace-icon fa fa-caret-down icon-on-right"></span>
                                            </p>
                                            <ul class="dropdown-menu dropdown-default" style="display: none;">
                                                <li>
                                                    <a href="manageClass.html" target="_blank">编辑</a>
                                                </li>
                                                <li>
                                                    <a href="">删除班级</a>
                                                </li>                                                            
                                            </ul>
                                        </div>
                                    </td>
                                    <td></td>
                                </tr> 
                            </table>
                            <div class="orderPage">
                                <div class="page">
                                    单页显示：
                                    <select>
                                        <option>20条/页</option>
                                        <option>50条/页</option>
                                        <option>100条/页</option>
                                    </select>
                                </div>
                                <ul class="pagination">
                                    <li class="disabled">
                                        <a href="#">首页</a>
                                    </li>
                                    <li class="disabled">
                                        <a href="#">
                                            <i class="ace-icon fa fa-angle-double-left"></i>
                                        </a>
                                    </li>  
                                    <li class="active">
                                        <a href="#">1</a>
                                    </li>
            
                                    <li>
                                        <a href="#">2</a>
                                    </li>
            
                                    <li>
                                        <a href="#">3</a>
                                    </li>
            
                                    <li>
                                        <a href="#">4</a>
                                    </li>
            
                                    <li>
                                        <a href="#">5</a>
                                    </li>
            
                                    <li>
                                        <a href="#">
                                            <i class="ace-icon fa fa-angle-double-right"></i>
                                        </a>
                                    </li>
                                    <li class="">
                                        <a href="#">尾页</a>
                                    </li>
                                </ul>
                            </div>
                        </div>    
                    </div>
                </div>                
            </div>
            <!-- 教室列表 -->
            <div id="teacher" class="tab-pane fade student course">
                <div>
                    <div class="screen" style="height:84px;">
                        <a href="/student/getClassroom" target="_blank"><button class="stdEnroll">新建教室</button></a>
                    </div>
                    <div class="orderCon">
                        <div class="orderTable">
                            <table id="courseTypeList" class="table table-hover">
                                <tr>
                                    <th>序号</th>
                                    <th>教室名称</th>
                                    <th>所属校区</th>
                                    <th>操作</th>
                                </tr>
                                <tr id="choosetype" class="choose" th:each="classroom,rooms:${xbClassroomPage.content}">
                                    <input type="hidden" id="room" th:text="${room}"/>
                                    <td th:text="${rooms.index+1}">序号</td>
                                    <td th:text="${classroom.classroomName}"></td>
                                    <td th:text="${classroom.sysOrgans.organName}">所属校区</td>
                                    <td>
                                        <div class="btn-group">
                                            <p data-toggle="dropdown" class="down" aria-expanded="false">
                                                更多
                                                <span class="ace-icon fa fa-caret-down icon-on-right"></span>
                                            </p>
                                            <ul class="dropdown-menu dropdown-default">
                                                <li>
                                                    <a  th:href="@{'/student/getClassroom?id='+${classroom.id}}" data-toggle="modal">编辑</a>
                                                </li>
                                                <li>
                                                    <a  th:onclick="@{'/student/getClassroom?id='+${classroom.id}}">删除</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            <div class="orderPage" style="margin-top:30px;">
                                <div class="page">
                                    单页显示：
                                    <select id="size" name="size" onchange="getOrgansListPage('');">
                                        <option th:selected="${roomcurrentzise eq 1}" value="1">20条/页</option>
                                        <option th:selected="${roomcurrentzise eq 2}" value="2">5条/页</option>
                                        <option th:selected="${roomcurrentzise eq 3}" value="3">10条/页</option>
                                        <option th:selected="${roomcurrentzise eq 4}" value="4">15条/页</option>
                                    </select>
                                </div>
                                <ul class="pagination" th:if="${xbClassroomPage.getTotalPages() gt 0}" >
                                    <li class="disabled">
                                        <a href="#" th:onclick="'javascript:getOrgansListPage(\''+0+'\')'">首页</a>
                                    </li>
                                    <li class="disabled" th:if="${xbClassroomPage.getNumber()-1} ge 0">
                                        <a href="#" th:onclick="'javascript:getOrgansListPage(\''+${xbClassroomPage.getNumber()-1}+'\')'">
                                            <i class="ace-icon fa fa-angle-double-left"></i>
                                        </a>
                                    </li>
                                    <li class="active" th:each="i:${#numbers.sequence(1,xbClassroomPage.getTotalPages())}">
                                        <a href="#" th:onclick="'javascript:getOrgansListPage(\''+${i}+'\')'" th:text="${i}"></a>
                                    </li>
                                    <li th:if="${xbClassroomPage.getTotalPages()} ge ${xbClassroomPage.getNumber()+2} ">
                                        <a href="#" th:onclick="'javascript:getOrgansListPage(\''+${xbClassroomPage.getNumber()+2}+'\')'">
                                            <i class="ace-icon fa fa-angle-double-right"></i>
                                        </a>
                                    </li>
                                    <!-- <li class="">
                                         <a href="#" th:onclick="'javascript:getOrgansListPage(\''+${currentnumber}+'\')'">尾页</a>
                                     </li>-->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        
    </div>

    <!-- 自定义选项弹窗 -->
    <div id="modal-table" class="modal fade in" tabindex="-1" aria-hidden="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header no-padding">
                    <div class="table-header">自定义选项</div>
                </div>
                    <div class="modal-body no-padding">
                        <div class="checkAll">
                            <input type="checkbox" id="sel_2" onchange="selectAll()">全选
                        </div>
                        <div class="checkList">
                            <span><input type="checkbox">渠道</span>
                            <span><input type="checkbox">欠费</span>
                            <span><input type="checkbox">积分</span>
                            <span><input type="checkbox">微信号</span>
                            <span><input type="checkbox">生日</span>
                            <span><input type="checkbox">年龄</span>
                            <span><input type="checkbox">公立学校</span>
                            <span><input type="checkbox">公立校班级</span>
                            <span><input type="checkbox">居住区域</span>
                            <span><input type="checkbox">其他信息</span>
                            <span><input type="checkbox">课程状态</span>
                            <span><input type="checkbox">上课校区</span>
                            <span><input type="checkbox">课时有校区</span>
                        </div>   
                    </div>
                
    
                <div class="modal-footer no-margin-top">
                    <button class="btn pull-left" data-dismiss="modal">
                        取消
                    </button>
                    <button class="btn pull-right" data-dismiss="modal">
                        确定
                    </button>
                </div>
            </div>
        </div>
    </div>

</div> 
<script>
!function(){
laydate({elem: '#demo'});//绑定元素
}();

$(".down").click(function(){
  $(this).siblings(".dropdown-menu").toggle();
});
$(".tag .close").click(function(){
  $(this).parent(".tag").hide();
});
function selectAll(){
    var isCheck=$("#sel_1").is(':checked');  //获得全选复选框是否选中
    $("#choose input[type='checkbox']").each(function() {  
        this.checked = isCheck;       //循环赋值给每个复选框是否选中
    });

    var isCheck=$("#sel_2").is(':checked');  //获得全选复选框是否选中
    $(".checkList input[type='checkbox']").each(function() {  
        this.checked = isCheck;       //循环赋值给每个复选框是否选中
    });    
};
$(function(){
    var room = $("#room").val();
    if(room=='0'){
        $("#teacher").show();
        $("#class").hide();
        $('#myTab a[href="#teacher"]').tab('show')
    }else{
        $("#class").show();
        $("#teacher").hide();
        $('#myTab a[href="#class"]').tab('show')
    }
    $(".class").click(function () {
        $("#class").show();
        $("#teacher").hide();
    });
    $(".teacher").click(function () {
        $("#teacher").show();
        $("#class").hide();
    });
});
</script>
<script type="text/javascript" th:inline="javascript">
    var basePath = /*[[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]]*/;
    function getOrgansListPage(page){
        var size = $('#size option:selected').val();//选中的值
        if(page){
            page = page -1;
        }
        window.location.href = basePath + '/student/getXbClassroomList?page='+page+'&size='+size+'&room=0';
    }
</script> 
</body>
</html>